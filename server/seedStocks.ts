import { storage } from "./storage";
import type { InsertStockMaster } from "@shared/schema";

// í•œêµ­ ì¦ì‹œ ì£¼ìš” ì¢…ëª© ë°ì´í„° (ì‹¤ì œ ë°ì´í„° ê¸°ë°˜)
const koreaStocks: InsertStockMaster[] = [
  // ëŒ€í˜•ì£¼ (ì‹œê°€ì´ì•¡ 10ì¡° ì´ìƒ)
  {
    stockCode: "005930",
    stockName: "ì‚¼ì„±ì „ìž",
    stockNameEng: "Samsung Electronics",
    market: "KOSPI",
    sector: "ì „ê¸°ì „ìž",
    industry: "ë°˜ë„ì²´",
    marketCap: "400000000000000",
    isActive: true,
  },
  {
    stockCode: "373220",
    stockName: "LGì—ë„ˆì§€ì†”ë£¨ì…˜",
    stockNameEng: "LG Energy Solution",
    market: "KOSPI",
    sector: "ì „ê¸°ì „ìž",
    industry: "ë°°í„°ë¦¬",
    marketCap: "100000000000000",
    isActive: true,
  },
  {
    stockCode: "207940",
    stockName: "ì‚¼ì„±ë°”ì´ì˜¤ë¡œì§ìŠ¤",
    stockNameEng: "Samsung Biologics",
    market: "KOSPI",
    sector: "ì˜ë£Œì •ë°€",
    industry: "ë°”ì´ì˜¤ì˜ì•½í’ˆ",
    marketCap: "70000000000000",
    isActive: true,
  },
  {
    stockCode: "000660",
    stockName: "SKí•˜ì´ë‹‰ìŠ¤",
    stockNameEng: "SK Hynix",
    market: "KOSPI",
    sector: "ì „ê¸°ì „ìž",
    industry: "ë°˜ë„ì²´",
    marketCap: "65000000000000",
    isActive: true,
  },
  {
    stockCode: "035420",
    stockName: "NAVER",
    stockNameEng: "NAVER",
    market: "KOSPI",
    sector: "ì„œë¹„ìŠ¤ì—…",
    industry: "ì¸í„°ë„·",
    marketCap: "45000000000000",
    isActive: true,
  },

  // ì¤‘í˜•ì£¼ (ì‹œê°€ì´ì•¡ 1ì¡°~10ì¡°)
  {
    stockCode: "035720",
    stockName: "ì¹´ì¹´ì˜¤",
    stockNameEng: "Kakao",
    market: "KOSPI",
    sector: "ì„œë¹„ìŠ¤ì—…",
    industry: "ì¸í„°ë„·",
    marketCap: "25000000000000",
    isActive: true,
  },
  {
    stockCode: "003670",
    stockName: "í¬ìŠ¤ì½”í™€ë”©ìŠ¤",
    stockNameEng: "POSCO Holdings",
    market: "KOSPI",
    sector: "ì² ê°•ê¸ˆì†",
    industry: "ì² ê°•",
    marketCap: "20000000000000",
    isActive: true,
  },
  {
    stockCode: "096770",
    stockName: "SKì´ë…¸ë² ì´ì…˜",
    stockNameEng: "SK Innovation",
    market: "KOSPI",
    sector: "í™”í•™",
    industry: "ì •ìœ ",
    marketCap: "18000000000000",
    isActive: true,
  },
  {
    stockCode: "323410",
    stockName: "ì¹´ì¹´ì˜¤ë±…í¬",
    stockNameEng: "KakaoBank",
    market: "KOSPI",
    sector: "ê¸ˆìœµì—…",
    industry: "ì€í–‰",
    marketCap: "15000000000000",
    isActive: true,
  },
  {
    stockCode: "017670",
    stockName: "SKí…”ë ˆì½¤",
    stockNameEng: "SK Telecom",
    market: "KOSPI",
    sector: "í†µì‹ ì—…",
    industry: "í†µì‹ ì„œë¹„ìŠ¤",
    marketCap: "12000000000000",
    isActive: true,
  },

  // ì†Œí˜•ì£¼ ë° ì„±ìž¥ì£¼
  {
    stockCode: "091990",
    stockName: "ì…€íŠ¸ë¦¬ì˜¨í—¬ìŠ¤ì¼€ì–´",
    stockNameEng: "Celltrion Healthcare",
    market: "KOSPI",
    sector: "ì˜ë£Œì •ë°€",
    industry: "ë°”ì´ì˜¤ì˜ì•½í’ˆ",
    marketCap: "8000000000000",
    isActive: true,
  },
  {
    stockCode: "068270",
    stockName: "ì…€íŠ¸ë¦¬ì˜¨",
    stockNameEng: "Celltrion",
    market: "KOSPI",
    sector: "ì˜ë£Œì •ë°€",
    industry: "ë°”ì´ì˜¤ì˜ì•½í’ˆ",
    marketCap: "7000000000000",
    isActive: true,
  },
  {
    stockCode: "012330",
    stockName: "í˜„ëŒ€ëª¨ë¹„ìŠ¤",
    stockNameEng: "Hyundai Mobis",
    market: "KOSPI",
    sector: "ìš´ìˆ˜ìž¥ë¹„",
    industry: "ìžë™ì°¨ë¶€í’ˆ",
    marketCap: "6000000000000",
    isActive: true,
  },
  {
    stockCode: "000270",
    stockName: "ê¸°ì•„",
    stockNameEng: "Kia",
    market: "KOSPI",
    sector: "ìš´ìˆ˜ìž¥ë¹„",
    industry: "ìžë™ì°¨",
    marketCap: "5500000000000",
    isActive: true,
  },
  {
    stockCode: "005380",
    stockName: "í˜„ëŒ€ì°¨",
    stockNameEng: "Hyundai Motor",
    market: "KOSPI",
    sector: "ìš´ìˆ˜ìž¥ë¹„",
    industry: "ìžë™ì°¨",
    marketCap: "5000000000000",
    isActive: true,
  },

  // KOSDAQ ëŒ€í‘œ ì¢…ëª©
  {
    stockCode: "347860",
    stockName: "ì•Œí…Œì˜¤ì  ",
    stockNameEng: "Alteogen",
    market: "KOSDAQ",
    sector: "ì˜ë£Œì •ë°€",
    industry: "ë°”ì´ì˜¤ì˜ì•½í’ˆ",
    marketCap: "4000000000000",
    isActive: true,
  },
  {
    stockCode: "277810",
    stockName: "ë ˆì¸ë³´ìš°ë¡œë³´í‹±ìŠ¤",
    stockNameEng: "Rainbow Robotics",
    market: "KOSDAQ",
    sector: "ê¸°ê³„",
    industry: "ë¡œë´‡",
    marketCap: "3500000000000",
    isActive: true,
  },
  {
    stockCode: "039490",
    stockName: "í‚¤ì›€ì¦ê¶Œ",
    stockNameEng: "Kiwoom Securities",
    market: "KOSDAQ",
    sector: "ê¸ˆìœµì—…",
    industry: "ì¦ê¶Œ",
    marketCap: "3000000000000",
    isActive: true,
  },
  {
    stockCode: "263750",
    stockName: "íŽ„ì–´ë¹„ìŠ¤",
    stockNameEng: "Pearl Abyss",
    market: "KOSDAQ",
    sector: "ì„œë¹„ìŠ¤ì—…",
    industry: "ê²Œìž„",
    marketCap: "2500000000000",
    isActive: true,
  },
  {
    stockCode: "259960",
    stockName: "í¬ëž˜í”„í†¤",
    stockNameEng: "Krafton",
    market: "KOSDAQ",
    sector: "ì„œë¹„ìŠ¤ì—…",
    industry: "ê²Œìž„",
    marketCap: "2000000000000",
    isActive: true,
  },

  // ì¶”ê°€ ì£¼ìš” ì¢…ëª©
  {
    stockCode: "051910",
    stockName: "LGí™”í•™",
    stockNameEng: "LG Chem",
    market: "KOSPI",
    sector: "í™”í•™",
    industry: "í™”í•™",
    marketCap: "45000000000000",
    isActive: true,
  },
  {
    stockCode: "028260",
    stockName: "ì‚¼ì„±ë¬¼ì‚°",
    stockNameEng: "Samsung C&T",
    market: "KOSPI",
    sector: "ê±´ì„¤ì—…",
    industry: "ê±´ì„¤",
    marketCap: "18000000000000",
    isActive: true,
  },
  {
    stockCode: "066570",
    stockName: "LGì „ìž",
    stockNameEng: "LG Electronics",
    market: "KOSPI",
    sector: "ì „ê¸°ì „ìž",
    industry: "ê°€ì „",
    marketCap: "25000000000000",
    isActive: true,
  },
  {
    stockCode: "032640",
    stockName: "LGìœ í”ŒëŸ¬ìŠ¤",
    stockNameEng: "LG Uplus",
    market: "KOSPI",
    sector: "í†µì‹ ì—…",
    industry: "í†µì‹ ì„œë¹„ìŠ¤",
    marketCap: "8000000000000",
    isActive: true,
  },
  {
    stockCode: "018260",
    stockName: "ì‚¼ì„±ì—ìŠ¤ë””ì—ìŠ¤",
    stockNameEng: "Samsung SDS",
    market: "KOSPI",
    sector: "ì„œë¹„ìŠ¤ì—…",
    industry: "ITì„œë¹„ìŠ¤",
    marketCap: "12000000000000",
    isActive: true,
  },
  {
    stockCode: "034730",
    stockName: "SK",
    stockNameEng: "SK",
    market: "KOSPI",
    sector: "ê¸°íƒ€",
    industry: "ì§€ì£¼íšŒì‚¬",
    marketCap: "22000000000000",
    isActive: true,
  },
  {
    stockCode: "005490",
    stockName: "POSCOí™€ë”©ìŠ¤",
    stockNameEng: "POSCO Holdings",
    market: "KOSPI",
    sector: "ì² ê°•ê¸ˆì†",
    industry: "ì² ê°•",
    marketCap: "20000000000000",
    isActive: true,
  },
  {
    stockCode: "015760",
    stockName: "í•œêµ­ì „ë ¥",
    stockNameEng: "Korea Electric Power",
    market: "KOSPI",
    sector: "ì „ê¸°ê°€ìŠ¤ì—…",
    industry: "ì „ë ¥",
    marketCap: "15000000000000",
    isActive: true,
  },
  {
    stockCode: "033780",
    stockName: "KT&G",
    stockNameEng: "KT&G",
    market: "KOSPI",
    sector: "ìŒì‹ë£Œí’ˆ",
    industry: "ë‹´ë°°",
    marketCap: "10000000000000",
    isActive: true,
  },
  {
    stockCode: "030200",
    stockName: "KT",
    stockNameEng: "KT",
    market: "KOSPI",
    sector: "í†µì‹ ì—…",
    industry: "í†µì‹ ì„œë¹„ìŠ¤",
    marketCap: "8000000000000",
    isActive: true,
  },
  {
    stockCode: "105560",
    stockName: "KBê¸ˆìœµ",
    stockNameEng: "KB Financial Group",
    market: "KOSPI",
    sector: "ê¸ˆìœµì—…",
    industry: "ì€í–‰",
    marketCap: "20000000000000",
    isActive: true,
  },
  {
    stockCode: "055550",
    stockName: "ì‹ í•œì§€ì£¼",
    stockNameEng: "Shinhan Financial Group",
    market: "KOSPI",
    sector: "ê¸ˆìœµì—…",
    industry: "ì€í–‰",
    marketCap: "18000000000000",
    isActive: true,
  },
  {
    stockCode: "086790",
    stockName: "í•˜ë‚˜ê¸ˆìœµì§€ì£¼",
    stockNameEng: "Hana Financial Group",
    market: "KOSPI",
    sector: "ê¸ˆìœµì—…",
    industry: "ì€í–‰",
    marketCap: "15000000000000",
    isActive: true,
  },
  {
    stockCode: "316140",
    stockName: "ìš°ë¦¬ê¸ˆìœµì§€ì£¼",
    stockNameEng: "Woori Financial Group",
    market: "KOSPI",
    sector: "ê¸ˆìœµì—…",
    industry: "ì€í–‰",
    marketCap: "12000000000000",
    isActive: true,
  },
  {
    stockCode: "024110",
    stockName: "ê¸°ì—…ì€í–‰",
    stockNameEng: "Industrial Bank of Korea",
    market: "KOSPI",
    sector: "ê¸ˆìœµì—…",
    industry: "ì€í–‰",
    marketCap: "8000000000000",
    isActive: true,
  },
  {
    stockCode: "009150",
    stockName: "ì‚¼ì„±ì „ê¸°",
    stockNameEng: "Samsung Electro-Mechanics",
    market: "KOSPI",
    sector: "ì „ê¸°ì „ìž",
    industry: "ì „ìžë¶€í’ˆ",
    marketCap: "15000000000000",
    isActive: true,
  },
  {
    stockCode: "000810",
    stockName: "ì‚¼ì„±í™”ìž¬",
    stockNameEng: "Samsung Fire & Marine Insurance",
    market: "KOSPI",
    sector: "ê¸ˆìœµì—…",
    industry: "ë³´í—˜",
    marketCap: "12000000000000",
    isActive: true,
  },
  {
    stockCode: "032830",
    stockName: "ì‚¼ì„±ìƒëª…",
    stockNameEng: "Samsung Life Insurance",
    market: "KOSPI",
    sector: "ê¸ˆìœµì—…",
    industry: "ë³´í—˜",
    marketCap: "10000000000000",
    isActive: true,
  },
  {
    stockCode: "138040",
    stockName: "ë©”ë¦¬ì¸ ê¸ˆìœµì§€ì£¼",
    stockNameEng: "Meritz Financial Group",
    market: "KOSPI",
    sector: "ê¸ˆìœµì—…",
    industry: "ë³´í—˜",
    marketCap: "8000000000000",
    isActive: true,
  },
  {
    stockCode: "047050",
    stockName: "í¬ìŠ¤ì½”ì¸í„°ë‚´ì…”ë„",
    stockNameEng: "POSCO International",
    market: "KOSPI",
    sector: "ìœ í†µì—…",
    industry: "ì¢…í•©ìƒì‚¬",
    marketCap: "5000000000000",
    isActive: true,
  },

  // ì‹ ìž¬ìƒì—ë„ˆì§€ ë° ESG ê´€ë ¨ ì¢…ëª©
  {
    stockCode: "267260",
    stockName: "HDí˜„ëŒ€ì¼ë ‰íŠ¸ë¦­",
    stockNameEng: "HD Hyundai Electric",
    market: "KOSPI",
    sector: "ì „ê¸°ì „ìž",
    industry: "ì „ë ¥ìž¥ë¹„",
    marketCap: "4000000000000",
    isActive: true,
  },
  {
    stockCode: "329180",
    stockName: "HDí˜„ëŒ€ì¤‘ê³µì—…",
    stockNameEng: "HD Hyundai Heavy Industries",
    market: "KOSPI",
    sector: "ì¡°ì„ ",
    industry: "ì¡°ì„ ",
    marketCap: "25000000000000",
    isActive: true,
  },
  {
    stockCode: "010950",
    stockName: "S-Oil",
    stockNameEng: "S-Oil",
    market: "KOSPI",
    sector: "í™”í•™",
    industry: "ì •ìœ ",
    marketCap: "12000000000000",
    isActive: true,
  },
  {
    stockCode: "011780",
    stockName: "ê¸ˆí˜¸ì„ìœ ",
    stockNameEng: "Kumho Petrochemical",
    market: "KOSPI",
    sector: "í™”í•™",
    industry: "í™”í•™",
    marketCap: "8000000000000",
    isActive: true,
  },
  {
    stockCode: "010130",
    stockName: "ê³ ë ¤ì•„ì—°",
    stockNameEng: "Korea Zinc",
    market: "KOSPI",
    sector: "ì² ê°•ê¸ˆì†",
    industry: "ë¹„ì² ê¸ˆì†",
    marketCap: "10000000000000",
    isActive: true,
  },
  {
    stockCode: "005830",
    stockName: "DBì†í•´ë³´í—˜",
    stockNameEng: "DB Insurance",
    market: "KOSPI",
    sector: "ê¸ˆìœµì—…",
    industry: "ë³´í—˜",
    marketCap: "6000000000000",
    isActive: true,
  },
  {
    stockCode: "361610",
    stockName: "SKì•„ì´ì´í…Œí¬ë†€ë¡œì§€",
    stockNameEng: "SK ie technology",
    market: "KOSPI",
    sector: "ì „ê¸°ì „ìž",
    industry: "ë°°í„°ë¦¬ì†Œìž¬",
    marketCap: "15000000000000",
    isActive: true,
  },
  {
    stockCode: "326030",
    stockName: "SKë°”ì´ì˜¤íŒœ",
    stockNameEng: "SK Biopharmaceuticals",
    market: "KOSPI",
    sector: "ì˜ë£Œì •ë°€",
    industry: "ë°”ì´ì˜¤ì˜ì•½í’ˆ",
    marketCap: "8000000000000",
    isActive: true,
  },
  {
    stockCode: "003550",
    stockName: "LG",
    stockNameEng: "LG",
    market: "KOSPI",
    sector: "ê¸°íƒ€",
    industry: "ì§€ì£¼íšŒì‚¬",
    marketCap: "12000000000000",
    isActive: true,
  },
  {
    stockCode: "272210",
    stockName: "í•œí™”ì‹œìŠ¤í…œ",
    stockNameEng: "Hanwha Systems",
    market: "KOSPI",
    sector: "ì „ê¸°ì „ìž",
    industry: "ë°©ì‚°",
    marketCap: "4000000000000",
    isActive: true,
  },
];

export async function seedStockData() {
  console.log("ðŸŒ± í•œêµ­ ì£¼ìš” ì¢…ëª© ë°ì´í„° ì‹œë“œ ì‹œìž‘...");
  
  try {
    let insertedCount = 0;
    let updatedCount = 0;
    
    for (const stock of koreaStocks) {
      try {
        const result = await storage.upsertStockMaster(stock);
        if (result) {
          console.log(`âœ… ${stock.stockName} (${stock.stockCode}) ì²˜ë¦¬ ì™„ë£Œ`);
          insertedCount++;
        }
      } catch (error) {
        console.error(`âŒ ${stock.stockName} (${stock.stockCode}) ì²˜ë¦¬ ì‹¤íŒ¨:`, error);
      }
    }
    
    console.log(`ðŸŽ‰ ì¢…ëª© ë°ì´í„° ì‹œë“œ ì™„ë£Œ! ì´ ${insertedCount}ê°œ ì¢…ëª© ì²˜ë¦¬`);
    
    // ì „ì²´ ì¢…ëª© ìˆ˜ í™•ì¸
    const allStocks = await storage.getAllStocks();
    console.log(`ðŸ“Š í˜„ìž¬ ë°ì´í„°ë² ì´ìŠ¤ì— ë“±ë¡ëœ í™œì„± ì¢…ëª© ìˆ˜: ${allStocks.length}ê°œ`);
    
  } catch (error) {
    console.error("ðŸ’¥ ì¢…ëª© ë°ì´í„° ì‹œë“œ ì‹¤íŒ¨:", error);
    throw error;
  }
}

// ì§ì ‘ ì‹¤í–‰ì‹œ ì‹œë“œ ì‹¤í–‰
if (import.meta.url === `file://${process.argv[1]}`) {
  seedStockData()
    .then(() => process.exit(0))
    .catch((error) => {
      console.error(error);
      process.exit(1);
    });
}